{% extends "base.html" %}
{% load session_filters %}

{% block extra-style %}
<style>
    .content {
        flex: 1;
        margin-right: 0px;
        margin-bottom: 0px; /* 내용과 버튼 사이의 간격 설정 */
    }
</style>
{% endblock extra-style %}

{% block content %}



<div class="container ">
    <div style=" border-bottom: 1px solid #ccc; padding-bottom: 24px;" class="mb-3">
        <h1 id="chart-title" class="fs-2 text-white m-0 ">{{ seller.user }}</h1>
    </div>
    <div id="songsList" class="song-list">
        {% for song in songs  %}
        <div id="cart-{{song.id}}">
            <div class="content">
                <h3 class="text-white">타이틀: {{ song.title }}</h3>
                <p class="text-white ">아티스트: {{ song.seller.user }}</p>
            </div>
            <div>
                <a href="{% url 'songs:song_detail' pk=song.id %}" class="btn btn-danger" role="button" style="margin-right: 10px; border-radius: 50px;">details</a>
            </div>
            {% is_purchased user song.id as purchased %}
            {% if not purchased %}
            <form action="{% url 'payments:payment_pay' song.id %}" method="post" class="purchase-form">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger" id="puchase-btn">구매</button>
            </form>
            {% endif %}
        </div>
        {% endfor %}    
    </div>
</div>


{% endblock content %}